container_commands:
  01_collectstatic:
    command: "source /opt/python/run/venv/bin/activate && python manage.py collectstatic --noinput"
    command: "python manage.py makemigrations && python manage.py migrate"
    command: "echo \"from django.contrib.auth.models import User; User.objects.filter(email='admin@example.com').delete(); User.objects.create_superuser('root', 'admin@example.com', 'masseloff')\" | python manage.py shell"

option_settings:
  aws:elasticbeanstalk:container:python:
    WSGIPath: xfactor/wsgi.py
  aws:elasticbeanstalk:container:python:staticfiles:
        /static/: "static/"
